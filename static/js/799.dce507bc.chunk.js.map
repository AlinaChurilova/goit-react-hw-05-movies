{"version":3,"file":"static/js/799.dce507bc.chunk.js","mappings":"6OACA,EAA6B,2BAA7B,EAAuE,6BAAvE,EAAsH,gC,SCyDtH,EAnDe,WACX,OAA2BA,EAAAA,EAAAA,UAAS,IAApC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAoB,OAAZF,QAAY,IAAZA,OAAA,EAAAA,EAAcG,IAAI,WAAY,IAE9CC,EAAAA,EAAAA,YAAU,WACM,KAAVF,IAGAG,EAAAA,EAAAA,IAAUH,GAAOI,MAAK,SAAAC,GAAI,OAAIT,EAAUS,EAAKC,cAC9C,CAACN,IAEJ,IAWIO,GAAWC,EAAAA,EAAAA,MAEjB,OACE,iCACE,kBAAMC,UAAWC,EAAcC,SAfZ,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAcF,EAAMG,OAAOC,SAAShB,MAAMiB,MAC9C,GAA2B,KAAvBH,EAAYI,OAAhB,CAGF,IAAMC,EAAOP,EAAMQ,cACnBrB,EAAgB,CAAEC,MAAOc,IACzBK,EAAKE,UAOL,WACC,kBACKZ,UAAWC,EACXY,KAAK,OACLC,KAAK,QACLC,YAAY,mBAEZ,mBAAQF,KAAK,SAASb,UAAWC,EAAjC,UACA,2BACA,SAAC,MAAD,CAAUe,MAAO,CAACC,YAAa,aAIjC,wBACG/B,EAAMgC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACP,yBACI,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMzB,GAA1C,SAAwDsB,KADnDD,a,qJChDzB,IAAMK,EAAM,mCAEL,SAASC,IAEd,OAAOC,MAAM,GAAD,OADI,kDACJ,oBAAwBF,IACjC7B,MAAK,SAAAgC,GAAQ,OAAIA,EAASC,UAGxB,SAASC,EAAWC,GACzB,OAAOJ,MAAM,sCAAD,OAAuCI,EAAvC,oBAA0DN,EAA1D,oBACT7B,MAAK,SAAAgC,GAAQ,OAAIA,EAASC,UAIxB,SAASG,EAAQD,GACtB,OAAOJ,MAAM,sCAAD,OAAuCI,EAAvC,4BAAkEN,EAAlE,oBACT7B,MAAK,SAAAgC,GAAQ,OAAIA,EAASC,UAGxB,SAASI,EAAWF,GACzB,OAAOJ,MAAM,sCAAD,OAAuCI,EAAvC,4BAAkEN,EAAlE,2BACT7B,MAAK,SAAAgC,GAAQ,OAAIA,EAASC,UAGxB,SAASlC,EAAUuC,GACxB,OAAOP,MAAM,qDAAD,OAAsDF,EAAtD,kBAAmES,EAAnE,+CACTtC,MAAK,SAAAgC,GAAQ,OAAIA,EAASC","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.js","services/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"Movies_SearchForm__MevnG\",\"SearchButton\":\"Movies_SearchButton__Cr4Lg\",\"SearchFormInput\":\"Movies_SearchFormInput__gVywz\"};","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport { ApiSearch } from 'services/Api';\nimport { ImSearch } from 'react-icons/im'\nimport s from './Movies.module.css';\n\n\nconst Movies = () => {\n    const [movie, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams('');\n    const query = searchParams?.get(\"query\") || '';\n  \n  useEffect(() => {\n    if (query === '') {\n        return\n    }\n        ApiSearch(query).then(data => setMovies(data.results)); \n    }, [query])\n\n    const handleSubmit = event => {\n      event.preventDefault();\n      const queryString = event.target.elements.query.value;\n        if (queryString.trim() === '') {\n            return;\n        }\n      const form = event.currentTarget;\n      setSearchParams({ query: queryString });\n      form.reset();\n    } \n    \n  const location = useLocation();\n\n  return (\n    <>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n       <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"query\"\n            placeholder=\"Search movies\"\n              />\n            <button type=\"submit\" className={s.SearchButton}>\n            <span>\n            <ImSearch style={{marginRight: 8}} />\n            </span>\n            </button>  \n          </form>\n          <ul>\n            {movie.map(({ id, title }) => (\n                <li key={id}>\n                    <Link to={`/movies/${id}`} state={{ from: location }}>{ title}</Link>  \n                 </li>\n            ))}\n        </ul>\n    </>\n  );\n};\n\nexport default Movies;","\nconst KEY = '42bcf6d6624bc25b6cac8209269cf32f';\n\nexport function Api() {\n  const BASE_URL= 'https://api.themoviedb.org/3/trending/movie/day'; \n  return fetch(`${BASE_URL}?api_key=${KEY}`)\n    .then(response => response.json());\n}\n\nexport function ApiDetails(movieID) {\n  return fetch(`https://api.themoviedb.org/3/movie/${movieID}?api_key=${KEY}&language=en-US`)\n    .then(response => response.json());\n}\n\n\nexport function ApiCast(movieID) {\n  return fetch(`https://api.themoviedb.org/3/movie/${movieID}/credits?api_key=${KEY}&language=en-US`)\n    .then(response => response.json());\n}\n\nexport function ApiReviews(movieID) {\n  return fetch(`https://api.themoviedb.org/3/movie/${movieID}/reviews?api_key=${KEY}&language=en-US&page=1`)\n    .then(response => response.json());\n}\n\nexport function ApiSearch(searchQuery) {\n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${searchQuery}&language=en-US&page=1&include_adult=false`)\n    .then(response => response.json());\n}\n\n//   Api.propTypes = {\n//     searchQuery: PropTypes.string.isRequired,    \n//     currentPage: PropTypes.number.isRequired,    \n//   };\n\n// export default Api;"],"names":["useState","movie","setMovies","useSearchParams","searchParams","setSearchParams","query","get","useEffect","ApiSearch","then","data","results","location","useLocation","className","s","onSubmit","event","preventDefault","queryString","target","elements","value","trim","form","currentTarget","reset","type","name","placeholder","style","marginRight","map","id","title","to","state","from","KEY","Api","fetch","response","json","ApiDetails","movieID","ApiCast","ApiReviews","searchQuery"],"sourceRoot":""}